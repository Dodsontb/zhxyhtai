<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Dashboard</title>
        <!-- Mobile specific metas -->
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <!-- Force IE9 to render in normal mode -->
        <!--[if IE]><meta http-equiv="x-ua-compatible" content="IE=9" /><![endif]-->
        <meta name="author" content="SuggeElson" />
        <meta name="description" content=""
        />
        <meta name="keywords" content=""
        />
        <meta name="application-name" content="sprFlat admin template" />
        <!-- Import google fonts - Heading first/ text second -->
        <link rel='stylesheet' type='text/css' 
        <!--[if lt IE 9]>

		<![endif]-->
        <!-- Css files -->
        <!-- Icons -->
        <link href="assets/css/icons.css" rel="stylesheet" />
        <!-- jQueryUI -->
        <link href="assets/css/sprflat-theme/jquery.ui.all.css" rel="stylesheet" />
        <!-- Bootstrap stylesheets (included template modifications) -->
        <link href="assets/css/bootstrap.css" rel="stylesheet" />
        <!-- Plugins stylesheets (all plugin custom css) -->
        <link href="assets/css/plugins.css" rel="stylesheet" />
        <!-- Main stylesheets (template main css file) -->
        <link href="assets/css/main.css" rel="stylesheet" />
        <!-- Custom stylesheets ( Put your own changes here ) -->
        <link href="assets/css/custom.css" rel="stylesheet" />
        <!-- Fav and touch icons -->
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/img/ico/apple-touch-icon-144-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/img/ico/apple-touch-icon-114-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/img/ico/apple-touch-icon-72-precomposed.png">
        <link rel="apple-touch-icon-precomposed" href="assets/img/ico/apple-touch-icon-57-precomposed.png">
        <link rel="icon" href="assets/img/ico/favicon.ico" type="image/png">
        <!-- Windows8 touch icon ( http://www.buildmypinnedsite.com/ )-->
        <meta name="msapplication-TileColor" content="#3399cc" />
		<style type="text/css">
			.ljxone{
				margin-bottom: 20px;
			}
			select{
				margin-left: 20px;
			}
		</style>
    </head>
    <body>
       
        <div id="content">
        	<!-- Start .content-wrapper -->
        	<div class="content-wrapper">
        		<div class="row">
        			<!-- Start .row -->
        			<!-- Start .page-header -->
        			<div class="col-lg-12 heading">
        					<h1 class="page-header"><i class="ec-archive"></i> 任务管理</h1>
        					<!-- Start .bredcrumb -->
        					<ul  class="breadcrumb">
        					</ul>
        					<!-- End .breadcrumb -->
        					<!-- Start .option-buttons -->
        					<div class="option-buttons">
        							<div class="btn-toolbar" role="toolbar">
        							</div>
        					</div>
        					<!-- End .option-buttons -->
        			</div>
        			<!-- End .page-header -->
        		</div>
        		<!-- End .row -->
        		<div class="outlet"  id="b">
        			<!-- Start .outlet -->
        			<!-- Page start here -->
        			<div id="email-sidebar">
        				<!-- Start #email-sidebar -->
        				<div class="p15">
        						<a id="write-email"  class="btn btn-danger btn-block uppercase"  data-toggle="modal" data-target="#myModal"><i class="im-quill"></i>发布任务</a>
        						
        				</div>
        				<ul id="sideNav" class="nav nav-pills nav-stacked">
                    <li class="top-search">
                        
                    </li>
                    <li><a href="#">我的任务<i class="im-screen"></i></a>
                    </li>
                    <!--班级管理-->
                    <li><!-- <a href="#"> S1 <i class="im-table2"></i></a> -->
                        <ul class="nav sub" v-for="(t,index) in list">
                            <li v-for="(c,index) in t.list"><a href="#"> {{c.name}}</a>
								<ul class="nav sub">
									<li><a href="#" v-on:click="cpstudent1(c.name)"> 已完成</a>
									</li>
									<li><a href="#" v-on:click="cpstudent2(c.name)"> 未完成</a>
									</li>
									<li><a href="#" v-on:click="cpstudent3(c.name)"> 推迟任务</a>
									</li>
									<li><a href="#" v-on:click="cpstudent4(c.name)"> 任务历史</a>
									</li>
								</ul>
                            </li>
                        </ul>
                    </li>
					
					
                </ul>
        			</div>
        			<!--End #email-sidebar -->
        			<div id="email-content">
        					<!-- Start #email-content -->
        					<div class="email-wrapper">
        						<select style="width: 150px;">
        							<option value ="">年级</option>
        						</select>
        						<select style="width: 150px;">
        							<option value ="">班级</option>
        						</select>
        						<select style="width: 150px;">
        							<option value ="">日期</option>
        						</select>
        							<div class="email-toolbar col-lg-12">
        								<ul class="email-pager">
        									<li class="pager-info"></li>
        									
        								</ul>
        							</div>
        							<div class="email-toolbar-search col-lg-12">
        									<form>
        											<input type="text" class="form-control input-xlarge" name="search" placeholder="根据姓名模糊查">
        									</form>
        							</div>
        							<div class="email-list col-lg-12">
        									<table class="table table-striped table-hover table-fixed-layout non-responsive">
        											<tbody>
        													<tr>
        														<td class="email-select input-mini">
        																姓名
        														</td>
        														<td class="email-star input-mini"><i class="im-star s20"></i>
        														</td>
        														<td class="email-subject">标题
        														</td>
        														<td class="email-intro">
        																日期
        														</td>
        														<td class="email-date text-right input-mini">操作</td>
        													</tr>
        											</tbody>
        									</table>
        									<ul class="one" style="list-style: none; margin-left: -25px;">
														<li v-for="(c,index) in cpsudentlist">
															<div style="float:left;width:100px;">の</div>
															<div style="float:left;width:200px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;">{{c.ljxtitle}}</div>
															<div style="float:left;width:300px; margin-left: 60px">{{c.ljxdatetime}}</div>
															<div style="float:right;width:40px;" class="see" v-on:click="tuiClick(index)">查看</div>
															<div id="ul01" style="margin-left: -40px;display: none">
																<div v-for="(w,index) in c.list">
																	<a v-for="(s,index) in w.cpstudent">
																		<div style="float:left;width:100px;margin-left: 40px">{{s.studentname}}</div>
																		<div style="float:left;width:200px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;">{{c.ljxtitle}}</div>
																		<div style="float:left;width:300px; margin-left: 60px">{{w.ljxdate}}</div>
																		<div style="float:right;width:50px;margin-left:-10px;">已完成</div>
																	</a>
																</div>
															</div>
														</li>
													</ul>
        							</div>
        					</div>
        			</div>
        			<!--End #email-content -->
        			<!-- Page End here -->
        		</div>
        		<!-- End .outlet -->
        	</div>
        	<!-- End .content-wrapper -->
        	<div class="clearfix"></div>
        </div>
		
		
		<!-- Modal -->
		<form th:action="@{/stuinsert}" method="post" >
		<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title" id="myModalLabel">发布任务</h4>
				任务类型：<select style="width: 100.43px;height: 25.06px; color: black;" id="type" name = "ljxtype">
								<option value ="3">机试</option>
								<option value ="1">考试</option>
								<option value ="2">作业</option>
							</select>
			</div>
			<div class="modal-body">
					<ul style="list-style: none; margin-left: 100px">
						<li class="ljxone">项目标题：<input type="text" name="ljxtitle"></li>
						<li class="ljxone">项目内容：<input type="text" name="coent"></li>
						<li style="margin-left: 27px;" class="ljxone" >
							年级：<select style="width: 159.43px;height: 25.06px;" name="ljxclass">
								<option value ="S1">S1</option>
								<option value ="S2">S2</option>
								<option value ="Y2">Y2</option>
							</select>
						</li>
						<li style="margin-left: 27px;" class="ljxone" >
							班级：<select style="width: 159.43px;height: 25.06px;" name="ljxclasses">
								<option value ="1716">1716</option>
								<option value ="1718">1718</option>
								<option value ="1717">1717</option>
							</select>
						</li>
						<li class="ljxone" >定时发布：<input type="datetime-local" name="name1">（填写之后会在规定的时间发布）</li>
						<li class="ljxone" >开始时间：<input type="datetime-local" name="ljxdate"></li>
						<li class="ljxone" >结束时间：<input type="datetime-local" name="ljxtime"></li>
					</ul>
			</div>
			
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				<button type="submit" class="btn btn-primary">发布任务</button>
			</div>
			</div>
		</div>
		</div>
        </form>
        <!-- End #content -->
        <!-- Javascripts -->
        <!-- Load pace first -->
        <script src="assets/plugins/core/pace/pace.min.js"></script>
        <!-- Important javascript libs(put in all pages) -->
        <script src="assets/js/jquery-1.8.3.min.js"></script>
        <script src="assets/js/jquery-ui.js"></script>
        <script>
        window.jQuery || document.write('<script src="assets/js/libs/jquery-ui-1.10.4.min.js">\x3C/script>')
        </script>
        <!--[if lt IE 9]>
  <script type="text/javascript" src="assets/js/libs/excanvas.min.js"></script>
  <script type="text/javascript" src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <script type="text/javascript" src="assets/js/libs/respond.min.js"></script>
<![endif]-->
        <!-- Bootstrap plugins -->
        <script src="assets/js/bootstrap/bootstrap.js"></script>
        <!-- Core plugins ( not remove ever) -->
        <!-- Handle responsive view functions -->
        <script src="assets/js/jRespond.min.js"></script>
        <!-- Custom scroll for sidebars,tables and etc. -->
        <script src="assets/plugins/core/slimscroll/jquery.slimscroll.min.js"></script>
        <script src="assets/plugins/core/slimscroll/jquery.slimscroll.horizontal.min.js"></script>
        <!-- Resize text area in most pages -->
        <script src="assets/plugins/forms/autosize/jquery.autosize.js"></script>
        <!-- Proivde quick search for many widgets -->
        <script src="assets/plugins/core/quicksearch/jquery.quicksearch.js"></script>
        <!-- Bootbox confirm dialog for reset postion on panels -->
        <script src="assets/plugins/ui/bootbox/bootbox.js"></script>
        <!-- Other plugins ( load only nessesary plugins for every page) -->
        <script src="assets/plugins/charts/flot/date.js"></script>
        <script src="assets/plugins/charts/sparklines/jquery.sparkline.js"></script>
        <script src="assets/plugins/charts/pie-chart/jquery.easy-pie-chart.js"></script>
        <script src="assets/plugins/forms/icheck/jquery.icheck.js"></script>
        <script src="assets/plugins/forms/tags/jquery.tagsinput.min.js"></script>
        <script src="assets/plugins/forms/tinymce/tinymce.min.js"></script>
        <script src="assets/plugins/misc/highlight/highlight.pack.js"></script>
        <script src="assets/plugins/misc/countTo/jquery.countTo.js"></script>
        <script src="assets/plugins/ui/weather/skyicons.js"></script>
        <script src="assets/plugins/ui/notify/jquery.gritter.js"></script>
        <script src="assets/plugins/ui/calendar/fullcalendar.js"></script>
        <script src="assets/js/jquery.sprFlat.js"></script>
        <script src="assets/js/app.js"></script>
        <!-- <script src="assets/js/pages/dashboard.js"></script> -->
        <script src="assets/js/vue.js" type="text/javascript" charset="utf-8"></script>
        <script type="text/javascript" src="js/bootstrap/bootstrap.min.js"></script>
        <script type="text/javascript"> 
        	$(function(){
        		var v = new Vue({
					el:"#b",
					data:{
						list:null,
						cpsudentlist:null,
					},
					methods:{
						tuiClick:function(i){
							$(".see:eq("+i+")").next().toggle();
						},
						cpstudent1:function(claname){
							var yesno = "是";
							yes(claname,yesno);
						},
						cpstudent2:function(claname){
							var yesno = "否";
							yes(claname,yesno);
						}
					}
				});
			$.ajax({
				url:"/teacher_history",
				type:"post",
				success:function(date){
					alert(JSON.stringify(date))
					v.list = date;
				}
			})  
			
			
			function yes(name,yesno){
				//完成任务的学生
				$.ajax({
					url:"/cpstudent",
					data:"name="+name+"&yesno="+yesno,
					type:"post",
					success:function(date){
						alert(JSON.stringify(date))
						v.cpsudentlist = date;
					}
				})
			}
        	})
        	
        </script>
    </body>
</html>
